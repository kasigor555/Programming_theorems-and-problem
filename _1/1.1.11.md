# Задачи без массивов

#### **1.1.11** 
Дано натуральное n, вычислите S_n = 1/0! + 1/1! + ... + 1/n!

>**Решение** Итеративный способ

Для вычисления нам потребуется функция для расчета факториала или итеративный подход, чтобы избежать перезасчета факториалов. Итеративный подход более эффективен.

```JavaScript
/**
 * Вычисляет значение частичной суммы ряда e: S_n = 1/0! + 1/1! + ... + 1/n!
 * 
 * @param {number} n Натуральное число, до которого суммируется ряд (n >= 0).
 * @returns {number} Сумма ряда.
 */
function calculatePartialSumOfE(n) {
    // Проверка на корректность ввода (n должно быть неотрицательным целым числом)
    if (typeof n !== 'number' || n < 0 || !Number.isInteger(n)) {
        throw new Error("N должно быть натуральным числом (целым, неотрицательным).");
    }

    // Для n = 0 сумма равна 1/0! = 1
    if (n === 0) {
        return 1;
    }

    let sum = 0;
    // Факториал текущего члена k!
    // Начинаем с 1/0!
    let factorial = 1; 

    for (let k = 0; k <= n; k++) {
        // На первой итерации (k=0): factorial = 1. Добавляем 1/1 = 1.
        // На последующих итерациях: factorial хранит k!

        if (k > 0) {
            // Вычисляем k! на основе (k-1)!, умножая на k
            // factorial (для k) = factorial (для k-1) * k
            factorial *= k; 
        }

        // Добавляем 1/k! к сумме
        sum += (1 / factorial);
    }

    return sum;
}

// --- Примеры использования ---

const n1 = 3;
const result1 = calculatePartialSumOfE(n1);
// Ожидается: 1/0! + 1/1! + 1/2! + 1/3! = 1 + 1 + 0.5 + 0.1666... = 2.6666...
console.log(`Сумма S_${n1} = ${result1}`); 

const n2 = 10;
const result2 = calculatePartialSumOfE(n2);
console.log(`Сумма S_${n2} = ${result2}`);

// Для сравнения, значение e (e^1) с высокой точностью:
const eValue = Math.exp(1); 
console.log(`Значение e (Math.exp(1)) = ${eValue}`);
console.log(`Ошибка для n=10: ${Math.abs(eValue - result2)}`);
```

### Пояснение к коду:
1. **Инициализация**: sum инициализируется нулем. factorial инициализируется единицей, так как $0! = 1$.
2. **Цикл**: Цикл идет от $k=0$ до $n$.
3. **Вычисление факториала**: Вместо того чтобы пересчитывать факториал для каждого $k$ с нуля, мы используем свойство: $k! = (k-1)! \times k$.
    - При $k=0$, мы просто добавляем $1/1$ (первый член ряда).
    - При $k>0$, мы обновляем переменную factorial (которая теперь содержит $k!$) и добавляем $1/k!$ к общей сумме.
4. **Точность**: Поскольку мы работаем с числами с плавающей запятой в JavaScript (number), точность ограничена. Для небольших $n$ (до 15-20) результат будет очень близок к значению $e$.
